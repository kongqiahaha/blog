<!doctype html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="A portfolio template that uses Material Design Lite.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <title>登录</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="/blog/static/css/material.grey-orange.min.css" />
    <link rel="stylesheet" href="/blog/static/css/messagecss.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="/blog/static/plugins/js/jquery-3.5.1.min.js"></script>


</head>

<body>


    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <header class="demo-header mdl-layout__header mdl-layout__header--scroll mdl-color--grey-100 mdl-color-text--grey-800" style="background-color: white !important;">
             <div class="mdl-layout__header-row">
            <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" href="index.html" title="go back" role="button">
            <i class="material-icons" role="presentation">arrow_back</i>
            </a>
             </div>
        </header>
        <main class="mdl-layout__content">
            <div class="mdl-grid portfolio-max-width portfolio-contact">
                <div class="mdl-cell mdl-cell--12-col mdl-card mdl-shadow--4dp">
                    <div class="mdl-card__title">
                        <h2 class="mdl-card__title-text">登录</h2>
                    </div>
                    <div class="mdl-card__supporting-text">

                        <form  id="sign_in_form" method="post">
                            {% csrf_token %}
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <input class="mdl-textfield__input" type="text" id="User_name" name="username" pattern="[a-z,A-Z,0-9,_]*">
                                <label class="mdl-textfield__label" for="Text_head">请输入用户名</label>
                                <span class="mdl-textfield__error">用户名由字母数字或下划线组成</span>
                            </div>
                            <!--
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <input class="mdl-textfield__input" type="text" id="User_email" name="user_email">
                                <label class="mdl-textfield__label" for="Text_jianjie">请输入邮箱</label>
                            </div>
                            -->
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <!-- <input class="mdl-textfield__input" pattern="[A-Z,a-z,0-9]+" type="password" id="password" name="user_password">-->
                                <input class="mdl-textfield__input" type="password" id="password" name="password">
                                <label class="mdl-textfield__label" for="Name">请输入密码</label>
                                <!--
                                <span class="mdl-textfield__error">必须包含大小写字母及数字</span>
                                -->
                            </div>

                            <p>

                                <button class="mdl-button mdl-js-button mdl-button--raised  mdl-button--accent" onclick="sign_in()">
                                     登录
                                </button>

                            </p>
                        </form>
                        <button class="mdl-button mdl-js-button mdl-button--raised  mdl-button--accent" style="margin-top: -89px;left: 50%" onclick="location.href='sign_up'">
                                     注册
                        </button>

                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="/blog/static/mdl/material.min.js"></script>
<script>
    function sign_in() {$.post("/sign_in",$("#sign_in_form").serialize(),function (data) {if( data.code === 100){alert("登录成功");location.href="/testwriter";}else {alert("登录失败");location.href="/sign_in";}},"json")}
</script>
</body>

</html>